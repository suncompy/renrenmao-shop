<extend name="Public/base"/>

<block name="header">
  <li><a href="javascript:;">安装协议</a></li>
  <li class="active"><a href="javascript:;">环境检测</a></li>
  <li><a href="javascript:;">创建数据库</a></li>
  <li><a href="javascript:;"><eq name="Think.session.update" value="1">升级<else/>安装</eq></a></li>
  <li><a href="javascript:;">完成</a></li>
</block>

<block name="body">
  <h2>环境检测</h2>
  <table class="table">
    <caption><h3>运行环境</h3></caption>
    <thead>
      <tr>
        <th width="270">项目</th>
        <th width="150">所需配置</th>
        <th width="250">当前配置</th>
      </tr>
    </thead>
    <tbody>
      <volist name="env" id="item">
        <tr>
          <td>{$item[0]}</td>
          <td>{$item[1]}</td>
          <td><i class="iconfont icon-{$item[4]}"></i>{$item[3]}</td>
        </tr>
      </volist>
    </tbody>
  </table>
  
  <table class="table">
    <caption><h3>依赖性</h3></caption>
    <thead>
      <tr>
        <th width="270">名称</th>
        <th width="150">类型</th>
        <th width="250">检查结果</th>
      </tr>
    </thead>
    <tbody>
      <volist name="func" id="item">
        <tr>
          <td>{$item[0]}</td>
          <td>{$item[3]}</td>
          <td><i class="iconfont icon-{$item[2]}"></i>{$item[1]}</td>
        </tr>
      </volist>
    </tbody>
  </table>

  <present name="dirfile">
    <table class="table">
      <caption><h3>目录/文件权限</h3></caption>
      <thead>
        <tr>
          <th width="270">目录/文件</th>
          <th width="150">所需状态</th>
          <th width="250">当前状态</th>
        </tr>
      </thead>
      <tbody>
        <volist name="dirfile" id="item">
          <tr>
            <td>{$item[3]}</td>
            <td><i class="iconfont icon-success"></i>可写</td>
            <td><i class="iconfont icon-{$item[2]}"></i>{$item[1]}</td>   
          </tr>
        </volist>
      </tbody>
    </table>
  </present>

</block>

<block name="footer">
  <a class="btn btn-positive btn-lg" href="{:U('Install/step2')}">下一步</a>
  <a class="btn btn-negative btn-lg" href="{:U('Index/index')}">返回</a>
</block>
